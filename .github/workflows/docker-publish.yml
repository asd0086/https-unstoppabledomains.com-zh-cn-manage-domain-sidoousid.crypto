名称：Docker n n#此工作流使用未经GitHub认证的操作。N#它们由第三方提供，由n#单独的服务条款、隐私政策和支持n#文档管理。N非：n推：n分支：[main]n#发布`v1.2.3‘标记为发行版。N标记：[‘v*.*.*’]n拉请求目标：n个分支：[main]n#对任何PRs进行测试。N拉请求：n nenv：n#todo：创建名为Account/repo n#append/Image-name的容器，以创建一个名为Account/repo/Image-name n Image_name的容器：${github.Storage}n#Registry。对于DockerHub n注册中心使用docker.io：ghcr.io n nJobs：n#Run test。N#参见https://docs.docker.com/docker-hub/builds/automated-testing/n测试：n运行-on：Ubuntu-最新n个步骤：n-用途：action/checkout@v2n-name：Run test n run：n if[-f docker-Compose.test.yml]；然后n个坞-合成-文件对接-复合-测试。yml构建n个码头-合成-文件对接-复合-测试。-文件Dockerfile n fi n n#Push Image to GitHub包。N#参见https://docs.docker.com/docker-hub/builds/n Push：n#在推送图像之前确保测试作业通过。N需要：测试n n运行-on：Ubuntu-最新的n if：github.Event_name=‘Push’n权限：n内容：读取n个包：写入n个步骤：n-name：签出存储库n使用：action/checkout@v2nn-name：登录到注册表${env.REGISTRY}}n使用：docker/login-action@28218f9b04b4f3f62068d7b6ce6ca5b26e35336c n With：n注册表：${{env。注册表}n用户名：${github.agent}n密码：${Incres.GITHUB_Token}n-name：提取码头元数据n id：meta n使用：docker/metadata-action@98669ae865ea3cffbcbaa878cf57c20bbf1c6c38 n With：${env.REGISTRY}}/${{env.IMGE_name}n-name：Build and Push Docker映像n使用：Docker/Build-push-action@ad44023a93711e3deb337508980b4b5e9bcdc5dc n与：n#不要推送拉请求n推：${github.Event_name！=‘拉请求’}n标签：${step.met.outputs.tag}n标签：${step.met.outputs.-push-action@ad44023a93711e3deb337508980b4b5e9bcdc5dc}n标签}
